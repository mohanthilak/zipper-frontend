'use client'
import { AuthProvider } from '@/Contexts/useAuth';
import { LocationProvider } from '@/Contexts/location';
import { LibrariesProvider } from '@/Contexts/libraries';
import './globals.css'
import { usePathname } from 'next/navigation';
export const metadata = {
  title: 'Zipper',
  description: 'Generated by create next app',
}
import Sidebar from '@/Components/Sidebar';
import NavbarSignin from './navbarSignin/page';
import { SocketProvider } from '@/Contexts/SocketProvider';

export default function RootLayout({ children }) {


  const pathname = usePathname();
  return (
    <html lang="en">
      <head>
        <link rel="stylesheet"
      href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"/>
        <link rel="icon" href="./lol.jpg" sizes="any" />
        <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
      </head>
      <AuthProvider>
      <LocationProvider>
      <LibrariesProvider>
      <SocketProvider>
        <body>
          <script src="https://accounts.google.com/gsi/client" async></script>
            {!pathname.startsWith('/auth') && pathname !== "/"? <div className='flex'>  
            <Sidebar />
            <NavbarSignin />
              {children}
              </div> : [children]
            }
        </body>
      </SocketProvider>
      </LibrariesProvider>
      </LocationProvider>
      </AuthProvider>
    </html>
  )
}
